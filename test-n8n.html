<!DOCTYPE html>
<html>

<head>
    <title>Test N8n Webhook</title>
    <style>
        body {}

        .success {
            color: green;
        }

        .error {
            color: red;
        }
    </style>
</head>

<body>
    <h1>N8n Webhook Test</h1>
    <!DOCTYPE html>
    <html>

    <head>
        <title>Test N8n Webhook</title>
        <style>
            body {}

            .success {
                color: green;
            }

            .error {
                color: red;
            }
        </style>
    </head>

    <body>
        <h1>N8n Webhook Test</h1>
        <button onclick="testWebhook()">Test Webhook</button>
        <!DOCTYPE html>
        <html>

        <head>
            <title>Test N8n Webhook</title>
            <style>
                body {}

                .success {
                    color: green;
                }

                .error {
                    color: red;
                }
            </style>
        </head>

        <body>
            <h1>N8n Webhook Test</h1>
            <!DOCTYPE html>
            <html>

            <head>
                <title>Test N8n Webhook</title>
                <style>
                    body {}

                    .success {
                        color: green;
                    }

                    .error {
                        color: red;
                    }
                </style>
            </head>

            <body>
                <h1>N8n Webhook Test</h1>
                <button onclick="testWebhook()">Test Webhook</button>
                <div id="status"></div>
                <pre id="result"></pre>

                <script>
                    async function testWebhook() {
                        try {
                            const testData = {
                                goal: "Score 330+ on GRE",
                                constraints: ["No paid courses", "Self-study only"],
                                preferences: ["Video learning", "Practice tests"],
                                experienceLevel: "Intermediate",
                                budget: "0",
                                timeline: "3 months",
                                userTier: "Free"
                            };
                            const response = await fetch('https://n8n-63lu.onrender.com/webhook-test/b7f2b640-9a16-4fca-9c73-74ee427f4606', {
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/json',
                                },
                                body: JSON.stringify(testData)
                            });
                            // Assuming statusEl and resultEl are defined elsewhere or will be defined.
                            // For now, let's add a basic success message.
                            const statusEl = document.getElementById('status');
                            const resultEl = document.getElementById('result');

                            if (response.ok) {
                                const data = await response.json();
                                statusEl.innerHTML = '<p class="success">✓ Webhook call successful!</p>';
                                resultEl.textContent = JSON.stringify(data, null, 2);
                            } else {
                                const errorText = await response.text();
                                statusEl.innerHTML = `<p class="error">✗ Webhook call failed: ${response.status} ${response.statusText}</p>`;
                                resultEl.textContent = errorText;
                            }
                        } catch (error) {
                            const statusEl = document.getElementById('status');
                            const resultEl = document.getElementById('result');
                            statusEl.innerHTML = `<p class="error">✗ Error: ${error.message}</p>`;
                            resultEl.textContent = error.stack || error.toString();
                        }
                    }
                </script>
            </body>

            </html>